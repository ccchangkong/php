<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link href="//lib.baomitu.com/datatables/1.10.15/css/dataTables.material.min.css" rel="stylesheet">
  <script src="//lib.baomitu.com/jquery/3.2.1/jquery.min.js"></script>
  <!-- <script src="//lib.baomitu.com/datatables/1.10.15/js/jquery.dataTables.min.js"></script> -->
  <script src="//lib.baomitu.com/datatables/1.10.15/js/jquery.dataTables.js"></script>
  <script src="//lib.baomitu.com/datatables/1.10.15/js/dataTables.material.min.js"></script>
</head>

<body>
  <button id="btn">test</button>
  <input type="text" id="txt" value="123">
  <table id="table_id_example">
  </table>
  <script>
  $(function() {

    // $.get('json.php', function(data) {
    //   console.log(data);
    // })
    var data = [{
      "a": "Tiger Nixon",
      "b": "System Architect",
      "c": "$3,120"
    }, {
      "a": "Garrett Winters",
      "b": "Director",
      "c": "$5,300"
    }];
    $('#btn').click(function() {
      var table;
      if (!$(this).hasClass('act')) {
        table = $('#table_id_example').DataTable({
          debug: true,
          check: false,
          pageCapacity: 15,
          loading: true,
          sign: true,
          'ajax': {
            'url': 'json.php',
            'type': 'post',
            data: {
              a: function() {
                return $('#txt').val()
              }
            },
            dataSrc: ''
          },

          "columns": [{
            data: "a",
            title: "111"
          }, {
            data: "b",
            title: "222"
          }, {
            data: "c",
            title: "333"
          }]
        });
        $(this).addClass('act')
      } else {
        $('#table_id_example').DataTable().ajax.reload();
      }

    })
  })
  </script>
</body>

</html>
